(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.apiFetch;var n=t.n(e);document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-eventive-fundraiser").forEach(t=>{const e=t.dataset.startTime,o=t.dataset.endTime,r=parseFloat(t.dataset.goalAmount)||1e3;if(!e||!o){const e=t.querySelector("#eventive-donations-container");return void(e&&(e.innerHTML="<p>Error: Start and end dates are required.</p>"))}(async()=>{const a=t.querySelector("#eventive-donations-container"),i=t.querySelector(".eventive-film-loading-text");i&&i.remove();try{const t=new URLSearchParams({start:e,end:o,type:"PAYMENT",eventive_nonce:window.EventiveBlockData.eventNonce}),i=await n()({path:`eventive/v1/ledger?${t.toString()}`,method:"GET"}),d=i.total_donations||0,s=i.donation_count||0,c=Math.min(d/r*100,100).toFixed(2);a&&(a.innerHTML=`\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>Fundraiser Progress</h3>\n\t\t\t\t\t\t\t<div class="progress-bar-container">\n\t\t\t\t\t\t\t\t<div class="progress-bar" style="--progress-percent: ${c}%; width: ${c}%;"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>$${d.toFixed(2)} of $${r.toFixed(2)} raised (${c}%)</p>\n\t\t\t\t\t\t\t${s>0?`<p class="donation-count">${s} donation${1!==s?"s":""}</p>`:""}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`)}catch(t){a&&(a.innerHTML=`<p>Error fetching donations: ${t.message}</p>`)}})()})})})();