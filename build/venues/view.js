(()=>{"use strict";const e=window.wp.element,n=window.ReactJSXRuntime,s=({venue:e})=>(0,n.jsxs)("div",{className:"eventive-venue-card",style:{display:"flex",border:"1px solid #ddd",padding:"2%",margin:"15px auto",borderRadius:"4px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,n.jsx)("div",{style:{flexGrow:6},children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{style:{fontSize:"1.2em",color:"#333"},children:e.name}),(0,n.jsx)("br",{}),e.label&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{color:"#666"},children:e.label}),(0,n.jsx)("br",{})]}),(0,n.jsxs)("span",{style:{color:"#555"},children:["Capacity: ",e.default_capacity||"N/A"]}),(0,n.jsx)("br",{}),e.description&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{color:"#666",marginTop:"8px",display:"block"},children:e.description}),(0,n.jsx)("br",{})]}),e.address&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{style:{fontSize:"0.9em",color:"#555"},children:"Street Address:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{style:{color:"#666"},children:e.address})]})]})}),e.seatmap_preview_image&&(0,n.jsx)("div",{style:{marginLeft:"20px",flexShrink:0},children:(0,n.jsx)("img",{src:e.seatmap_preview_image,alt:`${e.name} seatmap`,style:{maxWidth:"200px",height:"auto",borderRadius:"4px"}})})]}),t=()=>{const[e,t]=React.useState([]),[r,i]=React.useState(!0),[o,d]=React.useState(null);return React.useEffect(()=>{(()=>{if(!window.Eventive)return d("Eventive API is not initialized."),void i(!1);const e=()=>{const e=window.EventiveBlockData?.eventBucket||"",n=window.EventiveBlockData?.apiKey||"";if(!e)return d("Event bucket not configured."),void i(!1);const s=`event_buckets/${encodeURIComponent(e)}/venues`,r=n?{"x-api-key":n}:{};window.Eventive.request({method:"GET",path:s,headers:r}).then(e=>{console.log("Venues response:",e),e&&Array.isArray(e.venues)?t(e.venues):d("No venues found."),i(!1)}).catch(e=>{console.error("Error fetching venues:",e),d(`Error fetching venues: ${e.message||"Unknown error"}`),i(!1)})};window.Eventive.ready?e():window.Eventive.on("ready",e)})()},[]),r?(0,n.jsx)("div",{className:"eventive-venues-loading",style:{padding:"20px",textAlign:"center"},children:(0,n.jsx)("p",{children:"Loading venues..."})}):o?(0,n.jsx)("div",{className:"eventive-venues-error",style:{padding:"15px",backgroundColor:"#fef7f1",borderLeft:"4px solid #d63638",color:"#d63638"},children:(0,n.jsx)("p",{children:o})}):0===e.length?(0,n.jsx)("div",{className:"eventive-venues-empty",style:{padding:"20px",textAlign:"center"},children:(0,n.jsx)("p",{children:"No venues found."})}):(0,n.jsx)("div",{className:"eventive-venues-container",children:e.map(e=>(0,n.jsx)(s,{venue:e},e.id||e.name))})};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-eventive-eventive-venues").forEach(s=>{s.querySelector(".eventive-venues-container, .eventive-venues-loading")||(0,e.createRoot)(s).render((0,n.jsx)(t,{}))})})})();